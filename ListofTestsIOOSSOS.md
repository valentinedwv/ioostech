**WARNING: The IOOS SOS Application Profile v1.0 Test Suite along with the WSDD and SOS XML templates is now located on [GitHub Web site](http://ioos.github.io/sos-guidelines), which is currently the sole source of the IOOS SOS Profile v1.0 information.**





<br>
<br>

<i><b>This document contains a list of required and optional tests that have to be run in order to ensure full compliance with IOOS SOS Profile 1.0 (Milestone 1.0), and currently sufficient level of compliance with the OGC SOS 1.0.0 specification.</b></i>


<h1>1 OWS Common Tests</h1>
<h2>1.1 owsTests:ows-main</h2>
<b>(<i>Run test group for GetCapabilities requests using the GET method.</i>)</b>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>owsTests:ows-OWS.GetCapabilities.1</code></td><td>The GET method request must be supported (using HTTP GET).  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root element matches the provided root element.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.ContentType.1</code></td><td>A response message containing an entity body must contain a Content-Type entity header field that correctly indicates the media type of the message body.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document matches the root element name; (3) the response Content-Type header must be “text/xml” for XML entities.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Exceptions.1</code></td><td>In the event that a GetCapabilities request cannot be processed for any reason, the response entity shall include an exception report. The exception code must be one of those listed in Table 5 in the specification document.  GetCapabilities with no <i>service</i> parameter and <i>AcceptVersions</i> parameter equal to 1.0.0.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue” exception code; (4) theExceptionReport @locator value shall be that of the missing parameter.</td><td> <b>(1) R  (2) R  (3) O  (4) O</b> </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Exceptions.2</code></td><td>In the event that a GetCapabilities request cannot be processed for any reason, the response entity shall include an exception report. The exception code must be one of those listed in Table 5.  GetCapabilities with a bogus <i>service</i> parameter value (ADSF), and <i>AcceptVersions</i> parameter equal to 1.0.0.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the 'InvalidParameterValue' exception code; (4) theExceptionReport @locator value shall be that of the invalid parameter.</td><td> <b>(1) R  (2) R  (3) O  (4) O</b> </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Exceptions.3</code></td><td>In the event that a GetCapabilities request cannot be processed for any reason, the response entity shall include an exception report. The exception code must be one of those listed in Table 5.  GetCapabilities with <i>service</i> parameter SOS, and bogus AcceptVersions parameter value “2000-01-01”.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Exceptions.5</code></td><td>In the event that a GetCapabilities request cannot be processed for any reason, the response entity shall include an exception report. The exception code must be one of those listed in Table 5.  GetCapabilities with an incorrect KVP query string <code>http://SOS-server-URL/sos?request~GetCapabilities!service~!SOS</code>, triggering the missing parameter value exception.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue” exception code, for both the request and service.</td><td> <b>(1) O  (2) O  (3) O</b> </td></tr>
<tr><td><code>owsTests:ows-OWS.CaseInsensitiveKvpNames.1</code></td><td>Parameter names in KVP strings shall be handled in a case-insensitive manner.  GetCapabilities with the KVP parameter names in all uppercase, lower-case and mixed-case.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root element matches the provided root element.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-AcceptVersions.1</code></td><td>If AcceptVersions is not specified, the service must respond with highest supported version.  GetCapabilities with no AcceptVersions and service of “SOS”. Without AcceptVersion, using version negotiation, sends latest copy.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an sos:SOS_Capabilities document; (3) the response version must be what was requested</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-AcceptVersions.2</code></td><td>Version negotiation using <i>AcceptVersions</i> parameter (preference ordering) must return service metadata corresponding to the most preferred version that is supported. If none of the requested versions are supported, the server must generate an exception with code 'VersionNegotiationFailed'.  GetCapabilities with AcceptVersions of “1.0.0” and service of “SOS”.  With AcceptVersion, expecting one of the versions listed $acceptVersions.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an sos:SOS_Capabilities document; (3) the response version must be what was requested. If the AcceptVersion element is used with a number of versions, one is expected to return ('1.0.0').</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-AcceptVersions.3</code></td><td>Version negotiation using AcceptVersions parameter (preference ordering) must return service metadata corresponding to the most preferred version that is supported. If none of the requested versions are supported, the server must generate an exception with code 'VersionNegotiationFailed'. GetCapabilities with <i>service</i> of “SOS”, and bogus <i>AcceptVersion</i> number “2000-01-01” <code>http://SOS-server-URL/sos?request=GetCapabilities&amp;service=SOS&amp;acceptversions=2000-01-01</code>. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “VersionNegotiationFailed” exception code.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Sections.1</code></td><td>The response to a GetCapabilities request that includes a sections parameter with NO VALUE provided (i.e. <code>http://SOS_serverURL/sos?service=SOS&amp;request=GetCapabilities&amp;sections=</code>) shall include an abbreviated capabilities document that omits all optional sections.  Pass if the response is schema valid and omits all optional top-level elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-Sections.2</code></td><td>The response to a GetCapabilities request that includes a sections parameter listing optional elements <i>ServiceIdentification</i> and <i>OperationsMetadata</i> shall include only the requested elements in the response entity <code>http://SOS-server-URL/sos?service=SOS&amp;request=GetCapabilities&amp;sections=ServiceIdentification,OperationsMetadata</code>. Pass if the response is schema valid and includes only the requested optional elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>owsTests:ows-OWS.GetCapabilities-AcceptFormats.1</code></td><td>The response to a GetCapabilities request containing an <i>AcceptFormats</i> parameter specifying a supported format must include a response entity that corresponds to the requested media type.  Examples: (1)<code>http://SOS-server-URL/sos?service=SOS&amp;request=GetCapabilities&amp;acceptformats=text/xml</code> and (2)<code>http://SOS-server-URL/sos?service=SOS&amp;request=GetCapabilities&amp;acceptformats=application/zip</code>.  Pass if the response is schema valid and <i>outputFormat</i> equals requested media type.</td><td> <b>O</b>             </td></tr></tbody></table>

<h1>2 General SOS Tests</h1>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>sos:general-SOS.General-InvalidRequest.1</code></td><td>Sending a POST request that is non-conformant to a schema associated with an SOS operation (with “test” in the body) causes the server to return a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>sos:general-SOS.General-ValidResponse.1</code></td><td>A response is a valid response for the SOS. This general assertion is tested by all other tests, so there is nothing specific to test now.</td><td> <b>N/A</b>           </td></tr></tbody></table>


<h1>3 Core SOS Tests</h1>
<b>(<i>A request for a valid capabilities document is made with the optional “acceptversions” parameter omitted, and a response is validated with the schema. Further tests are performed on the GetCapabilities response only if the response passes schema validation.</i>)</b>

<h2>3.1 GetCapabilities Tests</h2>

<h3>3.1.1 OGC General Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-KVPRequestParameterHandling.1</code></td><td>GetCapabilities request with missing mandatory parameter <i>service</i> and optional <i>acceptversions</i> returns a valid error report message.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-KVPRequestServiceParameterHandling.1</code></td><td>GetCapabilities request with no <i>acceptversions</i> parameter and a bogus <i>service</i> parameter value of “XYZ” returns a valid error report message.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “ InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-KVPRequestRequestParameterHandling.1</code></td><td>Request with no <i>acceptversions</i> parameter and a bogus <i>request</i> parameter value of “GetMeASandwich” returns a valid error report message.  Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “ InvalidRequest” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-OperationsMetadataMandatoryOperations.1</code></td><td>The OperationsMetadata section of the GetCapabilities response lists the mandatory operations of the SOS.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-OperationsMetadaOptionalOperations.1</code></td><td>Any non-mandatory operations advertised in the OperationsMetadata section of the GetCapabilities response have valid SOS method names.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidTime.1</code></td><td>The values in the <i>time</i> element for each ObservationOffering are valid time values (ISO 8601) or are valid named times (i.e. indeterminate, now, etc.).  If a time period is specified, then the “beginTime” value must come before the “endTime” or be equal to the “endTime” value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidProcedure.1</code></td><td>The values in the <i>procedure</i> element(s) for each ObservationOffering contain a value and are valid URNs.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidObservedProperty.1</code></td><td>The values in the <i>observedProperty</i> element(s) for each ObservationOffering contain a value and are valid URNs, or valid URLs, e.g. for CF/MMI phenomenon names (see document OGC 05-010 for correct formatting of definition URN).</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidResponseFormat.1</code></td><td>The values in the <i>responseFormat</i> element(s) for each ObservationOffering contain a value and are valid MIME types <i>(namely IOOS profile format)</i> </td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidResultModel.1</code></td><td>If an ObservationOffering provides the <i>resultModel</i> element, then the <i>resultModel</i> element must be in the om:Observation substitution group and is typically om:Observation or a specialized extension.  Value must be namespace-qualified.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getCapabilities:core-SOS.GetCapabilities-ResponseContentsValidResponseMode.1</code></td><td>If an ObservationOffering provides the <i>responseMode</i> element, then the <i>responseMode</i> element contains a value that is one of the valid responseMode values.</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr></tbody></table>


<h3>3.1.2 IOOS-specific Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.1</code></td><td>The operation names are listed in UpperCamelCase (i.e. GetCapabilities, DescribeSensor, GetObservation, other – if implemented)</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.2</code></td><td>The ObservationOffering for the whole network is listed, and gml:id and gml:name for that offering is in lower case (e.g. gml:id=“urn_ioos_network_all” and  urn:ioos:network:all)</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.3</code></td><td>The <code>&lt;ows:ExtendedCapabilities&gt;</code> contains valid ioosTemplateVersion value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.4</code></td><td>The <code>&lt;ows: ExtendedCapabilities &gt;</code> contains valid softwareVersion value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities- ResponseContainsValidOutputFormat.1</code></td><td>The values in the <code>&lt;ows:Parameter name=“outputFormat”&gt;</code> element contain ‘text/xml;subtype=“sensorML/1.0.1/profiles/ioos_sos/1.0”’</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities- ResponseContainsValidResponseFormat.2</code></td><td>The values in the <code>&lt;responseFormat&gt;</code> element(s) for each ObservationOffering contain ‘text/xml; subtype=“om/1.0.0/profiles/ioos_sos/1.0”’.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities- ResponseContainsValidSRSName.1</code></td><td>If ObservationOffering for the network provides gml:srsName, then it has the value “EPSG::4326”</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities- ResponseContainsValidSRSName.2</code></td><td>If ObservationOffering for the network does not provide gml:srsName, then element <code>&lt;gml:boundedBy&gt;</code>/<code>&lt;gml:Envelope&gt;</code> has the attribute ‘srsName’ with the value “<a href='http://www.opengis.net/def/crs/EPSG/0/4326”'>http://www.opengis.net/def/crs/EPSG/0/4326”</a></td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities- ResponseContainsValidTimeFrame.1</code></td><td>Each <code>&lt;sos:ObservationOffering&gt;</code> provides beginPosition and endPosition values of TimePeriod, and (a) beginPosition value is earlier than endPosition; (b) beginPosition value is in ISO 8601 format (e.g. 2009-05-23T00:00:00.000Z), and (c) endPosition has either an inline value in ISO 8601 format or an attribute ‘indeterminatePosition=”now”’.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidProcedure.1</code></td><td>Each ObservationOffering provides just a single procedure, and the procedure value is (a) a URN that conforms to the IOOS Conventions for Observing Asset Identifiers, and (b) matches the gml:name value for this ObservationOffering.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidObservedProperty.1</code></td><td>Each ObservationOffering provides at least one fully qualified <code>&lt;sos:observedProperty&gt;</code> element with the values of URLs corresponding to a Climate and Forecast (CF) Standard Name of the record in one of the IOOS Vocabularies.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidObservedProperty.2</code></td><td>None of the <code>&lt;sos:observedProperty&gt;</code> elements provides a value of vector phenomenon (i.e. wind, wave, current) instead of a scalar components of a composite phenomenon describing the vector, and defined in the IOOS Parameter Vocabulary (e.g.: <a href='http://mmisw.org/ont/ioos/parameter/wave'>http://mmisw.org/ont/ioos/parameter/wave</a>).</td><td> <b>R</b>             </td></tr>
<tr><td><code>getCapabilities:IOOS-SOS.GetCapabilities-ResponseContainsValidResponseMode.1</code></td><td>Each ObservationOffering provides a valid responseMode value (i.e. one of the “inline”, “out-of-band”, “attached”, “resultTemplate” strings).</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr></tbody></table>

<h2>3.2 DescribeSensor Tests</h2>

<h3>3.2.1 OGC General Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>describeSensor:core-SOS.DescribeSensor-RequestInvalidMIMEType.1</code></td><td>A DescribeSensor request with no <i>outputFormat</i> parameter as well as with a bogus <i>outputFormat</i> parameter value that is not advertised in the capabilities document (e.g. <i>text/xml;subtype=“sensorML/A.B.C”</i>) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue “ exception code for missing <i>outputFormat</i>; (4) the ExceptionReport shall have the “InvalidParameterValue” exception code for bogus <i>outputFormat</i> value.</td><td> <b>O</b>             </td></tr>
<tr><td><code>describeSensor:core-SOS.DescribeSensor-RequestInvalidProcedure.1</code></td><td>A DescribeSensor request with no <i>procedure</i> parameter as well as with a bogus <i>procedure</i> parameter value that is not advertised in the capabilities document (e.g. “urn:ogc:object:procedure:CITE:NFL:AstroDome”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “MissingParameterValue “ exception code for missing <i>procedure</i>; (4) the ExceptionReport shall have the “InvalidParameterValue” exception code for bogus <i>procedure</i> value.</td><td> <b>O</b>             </td></tr>
<tr><td><code>describeSensor:core-SOS.DescribeSensor-ResponseMatchingResponseFormat.1</code></td><td>The format of the response document matches the <i>outputFormat</i> specified in the request and is valid according to the <i>outputFormat</i> schema.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:core-SOS.DescribeSensor-ResponseMatchingProcedure.1</code></td><td>The unique identifier in the response document matches the procedure URN specified in the request.</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr></tbody></table>

<h3>3.2.2 IOOS-specific Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.1</code></td><td>SensorML document provides ioosTemplateVersion value in the <code>&lt;sml:capabilities [@name=“ioosServiceMetadata”]&gt;</code> element.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.2</code></td><td>SensorML document for a network of stations provides valid reference to the EPSG::4326 CRS in a bounding box description <code>&lt;gml:boundedBy&gt;</code>/<code>&lt;gml:Envelope [@srsName=’http://www.opengis.net/def/crs/EPSG/0/4326’]&gt;</code> element.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.3</code></td><td>SensorML document for a network of stations provides valid networkID identifier, and the networkID: (a) has definition as <code>&lt;sml:Term [@definition=’http://mmisw.org/ont/ioos/definition/networkID’]&gt;</code>; (b)  has a value as URN that conforms to the IOOS Conventions for Observing Asset Identifiers; and (c) matches the gml:name value in the <code>&lt;sos:ObservationOffering&gt;</code> for that network in the Capabilities document.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.4</code></td><td>SensorML document for a network of stations provides valid network shortName identifier, and the identifier has (a) definition as <code>&lt;sml:Term [@definition=’http://mmisw.org/ont/ioos/definition/shortName’]&gt;</code>; and (b) a text string value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.5</code></td><td>SensorML document for a network of stations provides valid network longName identifier, and the identifier has (a) definition as <code>&lt;sml:Term [@definition=’http://mmisw.org/ont/ioos/definition/longName’]&gt;</code>; and (b) a text string value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.6</code></td><td>SensorML response document provides for each network or station the reference to at least one parent network with IOOS codeSpace and RA Acronym value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.7</code></td><td>SensorML document for a network of station provides valid values for all following elements:  (a) <code>&lt;/sml:SensorML/sml:member[1]/sml:System[1]/sml:contact/sml:ContactList/sml:member[@xlink:role=’http://mmisw.org/ont/ioos/definition/operator’]/sml:ResponsibleParty/sml:contactInfo/sml:address/sml:country&gt;</code>;  (b) <code>&lt;/sml:SensorML/sml:member[1]/sml:System[1]/sml:contact/sml:ContactList/sml:member[@xlink:role=’http://mmisw.org/ont/ioos/definition/publisher’]/sml:ResponsibleParty/sml:contactInfo/sml:address/sml:country&gt;</code>;  (c) <code>&lt;/sml:SensorML/sml:member[1]/sml:System[1]/sml:contact/sml:ContactList/sml:member[@xlink:role=’http://mmisw.org/ont/ioos/definition/operator’]/sml:ResponsibleParty/sml:contactInfo/sml:address/sml:electronicMailAddress&gt;</code>;  (d) <code>&lt;/sml:SensorML/sml:member[1]/sml:System[1]/sml:contact/sml:ContactList/sml:member[@xlink:role=’http://mmisw.org/ont/ioos/definition/publisher’]/sml:ResponsibleParty/sml:contactInfo/sml:address/sml:electronicMailAddress&gt;</code></td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.8</code></td><td>SensorML document for a network of stations provides a location of each network member station in <code>&lt;sml:location/gml:Point [@srsName=’http://www.opengis.net/def/crs/EPSG/0/4326’&gt;</code> element with the values of latitude and longitude that are located within the spatial segment defined in the <code>&lt;gml:boundedBy&gt;</code> element.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.9</code></td><td>SensorML document for a network of stations provides a time range of observations for each network member station in <code>&lt;sml:capabilities [@name=’observationTimeRange’]&gt;</code> element with a valid time value pair specifying a time range in ISO 8601 format.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.10</code></td><td>SensorML document for a network of stations provides definition of the observed properties for each network member station in <code>&lt;sml:output [@name=’observed_Property’]/swe:Quantity [@definition=’anyURI’&gt;</code> elements, where anyURI is a reference to the IOOS vocabulary record.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.11</code></td><td>SensorML document for a single station provides valid value of the <code>&lt;sml:classifier [@name=’platformType’&gt;</code> element with the reference definition and IOOS codeSpace.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.12</code></td><td>SensorML document for a single station provides valid value of the <code>&lt;sml:classifier [@name=’operatorSector’&gt;</code> element with the reference definition and IOOS codeSpace.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.13</code></td><td>SensorML document for a single station provides valid value of the <code>&lt;sml:classifier [@name=’publisher’&gt;</code> element with the reference definition and IOOS codeSpace.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.14</code></td><td>SensorML document for a single station provides valid value of the <code>&lt;sml:classifier [@name=’sponsor’&gt;</code> element with the reference definition and IOOS codeSpace.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.15</code></td><td>SensorML document for a single station provides a time range of observations for the station in <code>&lt;sml:capabilities [@name=’observationTimeRange’]&gt;</code> element with a valid time value pair specifying a time range in ISO 8601 format.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.16</code></td><td>SensorML document for a single station provides a location of the station in <code>&lt;sml:location/gml:Point [@srsName=’http://www.opengis.net/def/crs/EPSG/0/4326’&gt;</code> element with the valid latitude and longitude value pair.</td><td> <b>R</b>             </td></tr>
<tr><td><code>describeSensor:IOOS-SOS.DescribeSensor- ResponseContainsValidOperationsMetadataProperty.17</code></td><td>SensorML document for a single station provides a description of at least one sensor that is located at the station (platform), and for each sensor a ‘sensorID’ and a list of the properties observed by this sensor are provided.</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr></tbody></table>

<h2>3.3 GetObservation Tests</h2>

<b>(<i>All GetObservation tests use “POST” method, and URL obtained from the GetCapabilities response.</i>)</b>

<h3>3.3.1 OGC General Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidSRSName.1</code></td><td>A GetObservation request with a bogus <i>srsName</i> parameter value that is not advertised in the capabilities document (e.g. “urn:ogc:def:crs:EPSG::9999”) produces a valid error message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidOffering.1</code></td><td>A GetObservation request with a bogus <i>offeringId</i> parameter value that is not advertised in the capabilities document (e.g. “softliness_of_jello”) produces a valid error message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidEventTime.1</code></td><td>A GetObservation request with an invalid <i>eventTime</i> parameter (e.g. bogus <i>timePosition</i> parameter value of “scooby”) produces a valid error message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidProcedure.1</code></td><td>A GetObservation request with a bogus <i>procedure</i> parameter value that is not advertised in the capabilities document (e.g. “urn:ogc:object:procedure:CITE:WeatherService:ThisIsInvalid”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidFeatureOfInterest.1</code></td><td>A GetObservation request with one or more invalid <i>featureOfInterest</i> values that are not advertised in the capabilities document (e.g. “urn:ogc:def:object:feature:TheInvalidFeature”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidObservedProperty.1</code></td><td>A GetObservation request with one or more invalid <i>observedProperty</i> values that are not advertised in the capabilities document (e.g. “urn:ogc:def:phenomenon:OGC:TheInvalidObservedProperty”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidResult.1</code></td><td>A GetObservation request with an invalid <i>result</i> parameter (e.g. using the comparison operator “ogc:PropertyIsEqualTo” with no value) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidResponseFormat.1</code></td><td>A GetObservation request with a bogus <i>responseFormat</i> parameter value that is not advertised in the capabilities document (e.g. <i>text/xml;subtype=”XX”</i>) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidResultModel.1</code></td><td>A GetObservation request with a bogus <i>resultModel</i> parameter value that is not advertised in the capabilities document (e.g. “TheBogusOne”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-RequestInvalidResponseMode.1</code></td><td>A GetObservation request with a bogus <i>responseMode</i> parameter value that is not advertised in the capabilities document (e.g. “NotValid”) produces a valid error report message. Pass if all of the following conditions are true: (1) the response is schema valid; (2) the root document is an ows:ExceptionReport document; (3) the ExceptionReport shall have the “InvalidParameterValue” exception code.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingSRSData.1</code></td><td>If an <i>srsName</i> parameter is supplied in the request, then the <i>srsName</i> value of the response data is valid according to the format specified by the requested <i>srsName</i>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingProcedureData.1</code></td><td>GetObservation requests made for each <i>procedure</i> element advertised in the capabilities document produce the responses with <i>procedure</i> values that match or are a subset of the <i>procedure</i> values specified in the requests.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingObservedPropertyData.1</code></td><td>GetObservation requests made for each <i>observedProperty</i> element advertised in the capabilities document produce the responses with <i>observedProperty</i> values that match or are a subset of the <i>observedProperty</i> values specified in the requests.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseAdvertisedEventTimeData.1</code></td><td>A valid GetObservation request made for each offering advertised in the capabilities document with the advertised <i>eventTime</i> for the requested offering returns one or more observations.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingEventTimeData.1</code></td><td>A valid GetObservation request made for each offering advertised in the capabilities document with the <i>eventTime</i> value that is off the advertised range for the requested offering (e.g. is before the earliest advertised <i>beginPosition</i>) returns no observations.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingFeatureOfInterestData.1</code></td><td>A valid GetObservation request made for each <i>featureOfInterest</i> advertised in the capabilities document produces the response with <i>featureOfInterest</i> values that match or fall within the spatial extent identified in the <i>featureOfInterest</i> value specified in the request.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingResultData.1</code></td><td>If a valid filter value is supplied in the result parameter of the request, then the response O&M data is valid for that filter.</td><td> <b>O</b>             </td></tr>
<tr><td><code>getObservation:core-SOS.GetObservation-ResponseMatchingResponseFormatData.1</code></td><td>The format of the response data matches the format supplied in the <i>responseFormat</i> parameter of the request.</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr></tbody></table>

<h3>3.3.2 IOOS-specific Tests</h3>

<table><thead><th> <b>TESTS</b> </th><th> <b>ASSERTIONS</b> </th><th> <b>IOOS Rq'd/Opt</b> </th></thead><tbody>
<tr><td><code>getObservation:IOOS-SOS.GetObservation-ResponseMissingEventTimeData.1</code></td><td>A valid GetObservation request made for each offering advertised in the capabilities document without ‘eventTime’ for the requested offering returns either all observations for that offering, or a ResponseExceedsSizeLimit exception code, if (a) server employs a limit on the response size, and (b) the limit is exceeded.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetObservation-ResponseMatchingProcedureData.1</code></td><td>GetObservation requests made for each ‘procedure’ element advertised in the Capabilities document produce the responses with <code>&lt;om:procedure&gt;</code> values that (a) match the ‘procedure’ values specified in the requests, and (c) are in a form of URN that conforms to the IOOS Conventions for Observing Asset Identifiers.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetObservation-ResponseMatchingProcedureData.2</code></td><td>GetObservation request made for the ‘procedure’ element advertised in the Capabilities document that indicates a network of multiple platforms/stations produces the response with <code>&lt;om:procedure&gt;</code> element that lists all affiliated platforms/stations as members of a single <code>&lt;om:Process&gt;</code> element</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetObservation-ResponseContainsValidCompositeProperty.1</code></td><td>GetObservation request for the ‘observedProperty’ advertised in the Capability documents as a composite phenomenon or a member of it produces a response with <code>&lt;om:observedProperty&gt;</code> that contains a child <code>&lt;swe:CompositePhenomenon&gt;</code> element, which (a) has a response-wide unique <code>&lt;gml:id&gt;</code> attribute, (b) includes <code>&lt;gml:name&gt;</code> with a string value, and (c) contains a list of the constituent scalar properties that is a subset of the properties defined in the IOOS Parameter Vocabulary for that composite phenomenon.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidFeatureOfInterest.1</code></td><td>A GetObservation response returns for each <code>&lt;om:member&gt;</code> an <code>&lt;om:featureOfInterest&gt;</code> with (a) valid name and codeSpace values for the CF Feature Type (e.g., timeSeries, timeSeriesProfile, etc), (b) valid geospatial bounding box (lat/lon), and (c) valid geographical location information for each individual platform/station (i.e. 2D only, always in EPSG::4326).</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidDataRecord.1</code></td><td>All <code>&lt;om:result&gt;</code> elements in GetObservation response contain a  DataRecord comprised of (a) <code>&lt;swe2:field name=“stations”&gt;</code>, and (b) <code>&lt;swe2:field name=“observationData”&gt;</code>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.1</code></td><td>A GetObservation response contains valid ioosTemplateVersion value.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.2</code></td><td>A GetObservation response contains at least one <code>&lt;om:member&gt;</code> element</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.3</code></td><td>A GetObservation response contains a single <code>&lt;om:procedure&gt;</code> for each <code>&lt;om:member&gt;</code></td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.4</code></td><td>A GetObservation response returns an <code>&lt;om:result&gt;</code> for each <code>&lt;om:member&gt;</code>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.5</code></td><td>A GetObservation response returns valid ‘stationID’ properties for each station that fits within bounding box and reports a requested observedProperty.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.6</code></td><td>A GetObservation response returns valid ‘referenceFrame’ and ‘localFrame’ properties for each <code>&lt;swe2:field name=“platformLocation”&gt;</code>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.7</code></td><td>A GetObservation response returns geographical coordinate in a valid order (latitude precedes longitude, vertical coordinate is listed after the horizontal ones, and explicitly follow the definition of the vertical CRS) for each <code>&lt;swe2:field name=“platformLocation”&gt;</code>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.8</code></td><td>A GetObservation response returns valid ‘sensorID’ properties for all sensors that measure a requested observedProperty, and are located on the platforms/stations that fit within bounding box.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.9</code></td><td>A GetObservation response for a ‘timeSeries’ CF Feature Type returns valid sensor vertical position (height) properties for all non-profiling sensors that measure a requested observedProperty, and are located on the platforms/stations that fit within bounding box.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.10</code></td><td>A GetObservation response for a ‘profile’ and ‘timeSerisesProfile’ CF Feature Types returns valid ‘sensorOrientation’ or ‘sensorLocation’ properties for all profiling sensors that measure a requested observedProperty, and are located on the platforms/stations that fit within bounding box.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.11</code></td><td>A GetObservation response for a ‘profile’ and ‘timeSerisesProfile’ CF Feature Types returns valid ‘profileBins’ or ‘profileHeights’ properties for all profiling sensors that measure a requested observedProperty, and are located on the platforms/stations that fit within bounding box.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.12</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:DataRecord&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.13</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:DataArray&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.14</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:Text&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.15</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:Vector&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.16</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:Quantity&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.17</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:QuantityRange&gt;</code> child elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.18</code></td><td>A GetObservation response returns valid “definition” attribute for each of the <code>&lt;swe2:Time&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.19</code></td><td>A GetObservation response returns valid <code>&lt;swe2:Text&gt;</code> child element for each <code>&lt;swe2:field name=“stationID”&gt;</code> and <code>&lt;swe2:field name=“sensorID”&gt;</code> elements: (a) the <code>&lt;swe2:Text&gt;</code> must provide fully qualified stationID or sensorID definition through ‘definition’ attribute, and (b) value of the <code>&lt;swe2:Text&gt;</code> must be a full station URN as defined in the IOOS Conventions for Observing Asset Identifiers.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.20</code></td><td>A GetObservation response returns ‘name’ attributes for each of <code>&lt;swe2:item&gt;</code> child elements of a <code>&lt;swe2:DataChoice&gt;</code>; the attribute values (a) are valid, and (b) match the stations’ names in <code>&lt;swe2:field name=“stations”&gt;</code> and/or sensors’ names in <code>&lt;swe2:field name=“sensors”&gt;</code> elements.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.21</code></td><td>A GetObservation response returns a valid <code>&lt;swe2:encoding&gt;</code> element for each <code>&lt;om:member&gt;</code>; the <code>&lt;swe2:encoding&gt;</code> shall (a) define separators for records and values in the <code>&lt;swe2:values&gt;</code>, and (b) replace all special ASCII characters used in the capacity of separators with the corresponding standard HTML Escape Sequences.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ResponseContainsValidOperationsMetadataProperty.22</code></td><td>A GetObservation response returns a valid <code>&lt;swe2:values&gt;</code> element for each <code>&lt;om:member&gt;</code>: (a) the <code>&lt;swe2:values&gt;</code> shall contain records with  values of all requested observed properties; (b) each record shall contain the observation sampling time, name of the sensor, and the observed values as defined in the DataChoice <code>&lt;swe2:item&gt;</code> element associated with the sensor; (c) the names of the sensors shall match the values of ‘name’ attributes for corresponding <code>&lt;swe2:item&gt;</code> child elements of <code>&lt;swe2:DataChoice&gt;</code>; (d) the total number of records shall match the value of <code>&lt;swe2:elementCount&gt;</code>; and (e) special ASCII characters used as separators are not encoded in HTML Escape Sequences.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ProfileResponseContainsValidDataArray.1</code></td><td>A GetObservation response returns a valid child element <code>&lt;swe2:DataArray definition=“http://mmisw.org/ont/ioos/definition/profile”&gt;</code> with empty <code>&lt;swe2:elementCount&gt;</code> for each profiling sensor within <code>&lt;swe2:DataChoice definition=“http://mmisw.org/ont/ioos/definition/sensors”&gt;</code>.</td><td> <b>R</b>             </td></tr>
<tr><td><code>getObservation:IOOS-SOS.GetCapabilities-ProfileResponseContainsValidProfileIndex.1</code></td><td>A GetObservation response returns for each profiling sensor within <code>&lt;swe2:DataChoice definition=“http://mmisw.org/ont/ioos/definition/sensors”&gt;</code> a valid <code>&lt;swe2:field name=“profileIndex”&gt;</code> or <code>&lt;swe2:field name=“binIndex”&gt;</code> with <code>&lt;swe2:Count definition=“http://mmisw.org/ont/ioos/definition/profileIndex”&gt;</code> child element that indicates which height/bin is being reported.</td><td> <b>R</b>             </td></tr>
<tr><td>              </td><td>                   </td><td>                      </td></tr>