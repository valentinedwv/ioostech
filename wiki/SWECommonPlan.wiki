#summary Plan for developing SWE Common response for SOS GetObservation requests.
#labels Phase-Requirements,Phase-Design,SOS,SWE,Featured

<wiki:toc max_depth="2" />

= Introduction =

Meeting details at the [SOSReferenceImplementationWorkshop  meeting page].


[https://docs.google.com/a/noaa.gov/document/d/1czWdBFjPmAEtLe5T3_54fwk2cUdbILwWPkIDKPKFNvY/edit?hl=en_US Google Docs version of this plan].  All of the material from that plan has not been migrated to the wiki and it may not be necessary to do so.  I'm suggesting that new information be collected on the wiki and the content from the document can be migrated as necessary. (Derrick)


= Requirements =


= Issues to Resolve Prior to the Meeting = 
Each issue below needs to be addressed prior to the meeting.  Ideally one person can volunteer to lead the discussion for each of the major topics so that we are prepared to make decisions at the meeting.  

== CF Feature Types (Kyle) ==
Examples from the OGC site: [http://external.opengis.org/twiki_public/NREwg/SWECommonNetCDFTutorial]

[http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.6/cf-conventions.html#id36261967]


== Vocabularies (CJ, Emilio will help) ==

What is the entire suite of parameters we need to consider for inclusion in the data file?  We need to compile a list of all of the currently known parameters and link them to the best vocabulary terms (if translations are necessary).

See ControlledVocabularies for more information including a table that begins to tackle this with terms from the NOAA Chesapeake Bay Office database.

Should the vocabularies be referenced by URNs or URLs?  What are the criteria for making this decision.  We have some guidance on the URN Schemes for identifying vocabularies but they are not implemented uniformly across existing servers.  We need clear definitions of the URN specifications. See [http://code.google.com/p/ioostech/downloads/detail?name=IOOS_Conventions_for_Asset_Identifiers_2011-01-21_dps.docx&can=2&q=  IOOS_Conventions_for_Asset_Identifiers_2011-01-21_dps.docx ]   Does this deserve review or is it clear enough as is?

=== Units of Measure and Time encoding ===
Clarification of the units of measure representation in output files.  Is there a clear OGC recommendation at this time?  Perhaps a follow up with Luis Bermudez?  UCUM, UOM definied in OGC dictionaries?  Udunits?

Issues with ISO 8601 and encoding time zones or time offsets

=== Platform Types and Unique Identifiers ===
== SOS Data Model (Eric, Emilio) ==

Ambiguity in the SOS 1.0 and 2.0 data model.  This issue has been discussed by the OGC Hyrology DWG and they have not reached a conclusion that is conformant to the SOS 1.0 spec as they understand it.  There are implications for the format of the responses from all three SOS core operations (GetCapabilities, DescribeSensor, GetObservation).  There are also performance implications due to the way searches must be performed.


== Encoding Quality Control Flags (Mohamed) ==
NDBC and CO-OPS will both be working on this in FY12 and certification of RAs will require this as well.  High priority topic but for the purposes of the group the problem is about encoding QC flags, not defining or selecting QC tests.

Consider q2o.whoi.edu as a source of information.

== Testing (Jeremy) ==

see also [SOSTesting]

Initial testing is designed more towards a survey of existing SOS GetCapabilities,DescribeSensor and GetObservation services that have been submitted to the CatalogEndpoints document/spreadsheet.  For initial purposes, just looking at one (hopefully representative) SOS from each RA or other agency.  Also for initial purposes only considering single in-situ representations and not profiles or trajectories.

An initial simple perl script was setup to read submitted SOS endpoints and detail the number of platforms and observation types and their locations based on the GetCapabilities document.  The script also parses based on whether full xml namespaces are used and reports the vocabulary prefix in effect and provides a kml file of the platform locations.

This script can be used along with Eric Bridger's similar browser application which provides similar information at http://www.google.com/url?sa=D&q=http://dev.neracoos.org/IOOSCatalog3/SOSTester/catalog_end_points.html&usg=AFQjCNGG65xpqLiu3iCdtNebN2NxlQX_BA

In addition to the above summary SOS information, creating a xsd(xml schema document) from a provided xml was used(the 'trang' tool) to compare existing schema/element differences between the existing SOS GetCapabilities documents.

Testing and categorization/compliance would be broken into 3 parts
  * a survey and categorization step to identify,categorize and describe existing SOS services to a known or new reference
  * differences in schema  - xsd reference and differences
  * differences in vocabulary - the listing/range of possible element/prefix terms and differences


= Resources= 
== Example Files ==
http://code.google.com/p/ioostech/source/browse/ndbc_swe_sample-2011-10-19.xml NDBC example of temperature observations from a collection of moored buoys.



== Testing Tools ==
=== SOSTester at NERACOOS ===


=== Jeremy Cothran's Summaries ===


Just so we don't lose these...

http://external.opengis.org/twiki_public/NREwg/GMESPHInstrumentCapabilities
http://external.opengis.org/twiki_public/HydrologyDWG/SOSServingWaterML20

http://opengeo.org/publications/opengeo-swe/
http://opengeo.org/publications/opengeo-swe/OpenGeo-SWE.pdf

http://code.google.com/p/swe-common-data-framework/