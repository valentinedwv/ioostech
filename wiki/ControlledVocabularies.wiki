#summary Information about selecting and using Controlled Vocabularies for developers of IOOS services.
#labels Phase-Requirements,Phase-Design,Vocabularies

= Introduction =
Also see EmilioControlledVocabs.

Developers of IOOS services should strive to use Controlled Vocabularies whenever appropriate.  This page describes some options for Controlled Vocabularies to chose from, examples of how to implement them in various data formats and information about how to update existing vocabularies.  The material presented here should evolve into a policy but currently there are several open questions to be resolved.  

The closest thing to policy we currently have is that IOOS data providers should use the [http://cf-pcmdi.llnl.gov Climate and Forecast Standard Names] when referring to variables (used synonymously with parameters here).  This applies to both netCDF files and to the various outputs of an SOS service (i.e. as column headings in a CSV file). [Requirement Requirement]

However, there is also a vocabulary developed during the Data Integration Framework project by Matt Howard, Sara Haines and others which has been titled the IOOS Parameter Vocabulary.  Both the [http://mmisw.org/orr/#http://mmisw.org/ont/cf/parameter CF table] and version 1.0 of the [http://mmisw.org/orr/#http://mmisw.org/ont/ioos/parameter IOOS Parameter Vocabulary] are currently hosted (v1.0) at the [http://mmisw.org/orr/#b MMI Ontology Registry and Repository].  


Additionally, the [http://sweet.jpl.nasa.gov/ontology/ NASA SWEET] project hosts fairly mature vocabularies with the additional benefit of attempting to provide a framework for relating them together into ontologies.  

= Issues and Open Questions =

  # Which vocabularies should be used in what situations?
  # How are deficiencies identified, documented and passed along to the right people so that they can be addressed. (e.g. if you have a new term not on any existing list, who do you tell and what will they do about it?)
  # How can we be good stewards in the community and participate in the process without bringing progress to a grinding halt?  (e.g. create temporary solutions for the immediate term but *ensure* that the long term vocabulary maintenance is done too.)
  # How do we harmonize with the many other vocabularies that have been developed in the regions?
  # How do we utilize or mature the vocabularies left over from the DIF at http://www.ioos.gov/gml/IOOS/0.6.1/dictionaries/phenomenaDictionary.xml ?
The target set of controlled vocabulary types we will likely need are  ([EmilioControlledVocabs stolen from Emilio's additional vocabulary discussion]):

 * organization type (eg, Federal agency, IOOS Regional Association,  state agency, industry)
 * organizational role (service provider, data provider or asset owner)
 * keywords (including geographical regions?)
 * platform (asset) type
 * observed property
 * units-of-measure

= Units of Measure =

[http://unitsofmeasure.org/ Universal Code for Units of Measure]

[http://www.unidata.ucar.edu/software/udunits/ UDUNITS]

OGC Best Practices circa 2002 [http://portal.opengeospatial.org/files/?artifact_id=11498 OpenGIS© Recommendation Paper — Units of Measure Use and Definition Recommendations] may be outdated??

[https://portal.opengeospatial.org/files/?artifact_id=8814 OGC URN definitions with some reference to units of measure]

= Observed Property Vocabularies =
[EmilioControlledVocabs#Observed_Properties See also EmilioControlledVocabs#Observed_Properties]

Guidelines: 
 # Use the CF (but what about versions)

== Existing Observed Property Vocabularies ==

|| Controlled Vocabulary || URL for information || URL for reference ||
|| Climate and Forecast Standard Names || http://cf-pcmdi.llnl.gov/ and http://cf-pcmdi.llnl.gov/documents/cf-standard-names/ || http://mmisw.org/ont/cf/parameter/PROPERTYNAME ||
|| IOOS Parameter Vocabulary v1.0 || ?? || http://mmisw.org/ont/ioos/parameter/PROPERTYNAME ||
|| IOOS DIF GML Dictionary || ?? || http://www.ioos.gov/gml/IOOS/0.6.1/dictionaries/phenomenaDictionary.xml#PROPERTYNAME  ||
|| SWEET || http://sweet.jpl.nasa.gov/ || http://sweet.jpl.nasa.gov/2.2/VOCAB.owl#PROPERTYNAME ||
|| OGC Terms (URL) || ?? || ?? ||
|| OGC Terms (URN) || ?? || ogc:def:phenomenon:mmisw.org:cf:PROPERTYNAME || 
|| GCOOS || ?? || http://mmisw.org/ont/gcoos/parameter/waves ||

==A list of tables can be found on the [http://code.google.com/p/ioostech/wiki/ControlledVocabularyTables ControlledVocabularyTables Page]==

==Water Quality==

==IOOS NCCOS Water Quality Data Project==

The IOOS Program has been working with NOAA's National Center for Coastal Ocean Sciences (NCCOS) on water quality data access and delivery.  A significant step in this project has been to reconcile the terms for the data set for this project.  CF terms have been identified for the variables that have been defined.  There is some overlap with the IOOS Parameter Vocabulary registered with MMI.  The majority of parameters that make up this data set have not been defined by CF.  

This is the list of [https://docs.google.com/spreadsheet/ccc?key=0AkuvBG1lfvfMdHZVV1ZKLVN4YUJvQ0t0NVFTZVl3VEE&hl=en_US#gid=0 Draft Water Quality Terms]  defined for the project with NCCOS.  (The parameters collected by the NOAA Chesapeake Bay Office, also listed below, has been incorporated.)  The data is collected by Florida International University's Southeast Environmental 

Are there vocabularies that can be used to augment this list?  Are the definitions the right definitions for the water quality community?  Research Center.    

==Semantic Web Maturity and Examples==
Whats the status and how do we use it?

=Links and yet to be organized errata=
http://marinemetadata.org/conventions/vocabularies


==CMSP Discovery Vocabularies Workshop==
December 1-3, 2010
WHOI (With USGS/NOAA sponsorship)
http://www.whoi.edu/page.do?pid=49656
Workshop report is available from the page above or directly from http://www.whoi.edu/fileserver.do?id=77984&pt=2&p=84468

There was useful information gathered prior to the meeting and included in the appendices of the report on existing Crosswalks, Repositories, Metadtaa Standards, Tools, and Vocabularies in use.  Most important for IOOS, are some firm recommendations on how to choose vocabularies and the importance of a mature process for extending/updating vocabularies when they do not meet our exact needs.  

Matt Howard and some others from the IOOS community are exploring how best to extend IOOS vocabularies into the biogeochemical and water quality domains.

==IOOS Biological Data Project==
Hassan Moustahfid from the IOOS PO led a project with three agencies in Hawaii aimed at developing a common exchange data format for exchanging reef fish survey data (presence, absence, abundance of reef fish as determined by visual sampling procedures).  A large part of that development involved agreeing on vocabularies to be used by all three agencies.  The solution was an extension of the Darwin Core standard for biological observations and was developed in conjunction with OBIS USA.  
[http://www.ioos.gov/ecosystem_observations/welcome.html Click Projects tab on this page]
How do we use this?  Is it extensible?  What about the overlap with existing standards like CF and the IOOS Param Voc?  

Biodiversity Information Standards (formerly known as Taxonomic Data Working Group) http://www.tdwg.org/

Schema Terminology will be based on ratified [http://rs.tdwg.org/dwc/ Darwin core], Dublin core and proposed IOOS vocabularies. XML guide will also based on Darwin core XML guidance.


•CF Conventions had been applied to biological data definition at the field level. This is to assure that IOOS Biological Project will be compatible with other geophysical datasets.


•FGDC and ISO 19115-2 are the adopted Metadata standards.


•ERDDAP is the main webservice for this project.


•EDC is the client developed to connect directly to ERDDAP and access data using customer application tools such as ARCGIS and R Project.


•To learn more about the Biological data standards implemented at the Pacific Islands Region please follow the following links:
Biological data services at the Pacific Islands Region website
FGDC and ISO Metadata

=== IOOS Vars RDF ===

Dictionaries and Ontologies, such as those hosted at MMI allow machine mapping's between controlled vocabularies.  The IOOS Catalog adopted a simple Ontology which allows the User Interface to map IOOS variables, e.g. Winds to the CF Terms used by some of the regional SOS's.  This is a very simple ontology, see below, which only makes use of the NarrowMatch triple store's thus Winds is mapped to wind_speed, wind_direction, etc.

[ControlledVocabularyTables#IOOS_Vars_RDF See the XML listing here.]
----

#summary From Emilio: Some pointers, links and initial thoughts on Controlled Vocabularies

*Table of Content*
<wiki:toc max_depth="3" />

== Introduction ==

My intent here is to complement the [ControlledVocabularies more official page on Controlled Vocabularies] elsewhere on this wiki, without adding my clutter to that page. Eventually, I'd like to identify exactly where in the SOS responses and requests each controlled vocabulary is relevant and needs to be addressed.

== Observed Properties ==
[ControlledVocabularies#Observed_Property_Vocabularies See also ControlledVocabularies#Observed_Property_Vocabularies]

The SURA Modeling Testbed tool at http://testbedwww.sura.org/model-dev/ has a really interesting combination of models and data (I think) where controlled vocabularies for measurements are used. It's worth assessing these, chatting with people in that team (ASA, Kyle Wilcox??), etc. For example, it's clear to me that while many/most of the names used are in fact CF standard names, many must be made up, but using CF recommendations for building names. 

That's a general approach that we've discussed and that I think we should follow: use CF when an appropriate parameter exist; provide a nimble, IOOS-controlled vocabulary on MMI for parameters not yet on the CF list, striving to follow CF naming patterns for these new parameters, and abundant documentation: names, definitions, linkages to other relevant vocabularies (such as those from [http://qwwebservices.usgs.gov/service-domains.html#CROSSWALK USGS], [http://his.cuahsi.org/mastercvreg.html CUAHSI]), most common units, etc; we have a great starting point already, in the form of the "IOOS-specific parameter vocabularies on MMI" I've listed below. For existing CF parameters, there's sometimes ambiguity and apparent redundancy; we can also provide guidance on preferred parameters, when such ambiguity exists (eg, for barometric pressure).

Other ontologies / controlled vocabularies (some less controlled than others...) directly relevant to IOOS DMAC:
  # *CF resources on MMI*. I've found several pages and resources at MMI that are directly focused on CF, but may not be well integrated or cross-linked and have different degrees of currency (out of date).
    * [http://marinemetadata.org/references/cfstandardnames CF - Climate and Forecast Standard Names; Vocabulary for CF parameters] (a document, not a vocabulary resource per se)
    * [http://marinemetadata.org/community/teams/vocdev/generaldocuments/orrcf Using the ORR CF Standard names Vocabulary]
    * [http://mmisw.org/ont/cf/parameter Climate and Forecast (CF) standard names parameter vocabulary]
  # *IOOS-specific parameter vocabularies on MMI*
    * [http://mmisw.org/ont/ioos/parameter IOOS Parameter Vocabulary V.1.0]
    * [http://mmisw.org/ont/secoora/parameter SECOORA Parameter Vocabulary]
    * [http://mmisw.org/ont/gcoos/parameter GCOOS Vocabulary]

== Organization Roles (Regional Association, Provider/Owner, etc) ==

  * [https://groups.google.com/d/msg/ioostech_dev/aAsiZta7mVs/WUfVKMalZf0J Relevant discussion thread from ioostech_dev, from Oct 2011 (_Institution roles in SOS & IOOS Catalog: "Organization" vs "Data Provider"_)]
  * _Describe convention used by Eric in the IOOS Catalog, and also [NANOOSNVSPythonSOS adopted by the NANOOS SOS service]_ It's the name from XPath /sml:member/sml:System/sml:contact/sml:ResponsibleParty/sml:organizationName, but I can't remember which "contactType role" is being used (eg, <sml:contact xlink:role="urn:ogc:def:classifiers:OGC:contactType:owner"> below) when multiple roles are listed in the response.

Example:
{{{
<sml:contact xlink:role="urn:ogc:def:classifiers:OGC:contactType:owner">
    <sml:ResponsibleParty>
        <sml:organizationName>ORCA-UW</sml:organizationName>
        <sml:contactInfo>
            <sml:address>
                <sml:country>USA</sml:country>
            </sml:address>
            <sml:onlineResource xlink:href="http://orca.ocean.washington.edu" />
        </sml:contactInfo>
    </sml:ResponsibleParty>
</sml:contact>
}}}

See also [DescribeSensorMetadataForIOOSSOS discussion by Micah, in wiki page DescribeSensorMetadataForIOOSSOS].

And [https://geo-ide.noaa.gov/wiki/index.php?title=Sensor_Observation_Service_Capabilities_and_ISO_Metadata Ted Habermann's synopsis on the GEO-IDE wiki]

== Platform/Station types ==

Document existing practices and options regarding controlled vocabularies for "platform types" in SensorML DescribeSensor responses. [http://mmisw.org/ont/mmi/platform/ MMI vocabulary]. Note the use of Classification terms from http://mmisw.org/ont/mmi/platform/ . Consequences for IOOS Catalog, including the use of NVS asset-type map icons.

Station Classifiers (in sml:classification/sml:ClassifierList) used in the NANOOS SOS as a draft incomplete implementation, borrowing from either NDBC or NOS/COOPS and possibly others:
{{{
<sml:classifier name="System Type Identifier">
    <sml:Term definition="urn:ioos:def:classifier:NOAA::systemTypeID">
        <sml:codeSpace xlink:href="http://mmisw.org/ont/mmi/platform/" />
        <sml:value>Platform</sml:value>
    </sml:Term>
</sml:classifier>
<sml:classifier name="Platform Type">
    <sml:Term definition="urn:ioos:def:classifier:NOAA:platformType">
        <sml:codeSpace xlink:href="http://nvs.nanoos.org"/>
        <sml:value>MOORED BUOY</sml:value>
    </sml:Term>
</sml:classifier>
}}}

A question I've had about this implementation is, _what the heck is "urn:ioos:def:classifier:NOAA:" referring to?_ I know these urn's don't have to correspond to anything that's documented (much less actual URL's), but are these instances referring to anything that's been discussed or decided before?


_DPS Comment: There is a significant conflict in our use of station and platform as synonyms that will be especially evident when we get to the point of tracing lineage within SensorML.  In my mind a platform is a piece of equipment that hosts or carries one or more instruments or sensors.  It can be moved, it has a beginning and ending, and most importantly it's configuration can be modified which raises the requirement to trace the lineage of any data originating from a platform.  A station on the other hand is a fixed location at which a platform might be deployed for a finite period of time.  The station may persist longer than any one platform deployment at that site.  Think of the many different instruments that have derived CO2 at the Mauna Loa site where the [http://en.wikipedia.org/wiki/Keeling_Curve Keeling Curve] was observed as an example of this concept. What are the implications if we adopt this view of those two terms?_
  
See also [DescribeSensorMetadataForIOOSSOS discussion by Micah, in wiki page DescribeSensorMetadataForIOOSSOS].

=== NANOOS NVS Asset types and icons ===
_Note to self_: Describe and make the [http://nvs.nanoos.org NVS] asset/platform-type map icons available through this wiki later on.
See Mayorga et al, 2010 ("NVS DMAC" Oceans'10 paper).

*Asset classes:*
  * _Stationary In-Situ Observations (SISO)_. Current types: Buoy, Fixed Shore Station, River Gage, Land Station, Seabed Cabled Observatory
  * _Moving-Location observations (MLOC)_. Cruises, AUV's
  * _Gridded Regular and Irregular Data (GRID)_. Models (forecasts), remote sensing imagery, etc.

== Other relevant resources ==

  * Work on water quality (?) vocabularies that Matt Howard and Cyndy Chandler are starting up (no URL that I know of). Matt is also leading a vocabulary effort focused on Gulf of Mexico, related to Deepwater Horizon recovery efforts.
  * [http://www.bco-dmo.org/ BCO-DMO] and [http://cdmo.baruch.sc.edu/ NERRS CDMO] are also excellent resources for water quality and biogeochemistry. [http://cdmo.baruch.sc.edu/data/parameters.cfm For NERRS, this "Parameters" page is very relevant].
  * [https://geo-ide.noaa.gov/wiki/index.php?title=In-situ_data_%28sensors,_groups_of_sensors,_platforms,_etc.%29 (Geo-IDE Wiki) In-situ data (sensors, groups of sensors, platforms, etc.)]
  * [http://www.bodc.ac.uk/products/web_services/vocab/ British Oceanographic Data Center (BODC) NERC Vocabulary Server]. 
  * [http://www.seadatanet.org/ SeaDataNet (European project)] Device Categories vocabulary, [http://vocab.ndg.nerc.ac.uk/list/L05/current served from the BODC NERC]
  * [http://www.seadatanet.org/Standards-Software/Common-Vocabularies SeaDataNet Common Vocabularies]
  * SeaDataNet Common Vocabularies
    * [http://seadatanet.maris2.nl/v_bodc_vocab/search.asp?name=(L06)%20SeaVoX+Platform+Categories&l=L06 L06 SeaVoX Platform Categories]
    * [http://seadatanet.maris2.nl/v_bodc_vocab/search.asp?name=(L061)%20SeaVoX+Platform+Classes&l=L061 L061 SeaVoX Platform Classes]
    * [http://seadatanet.maris2.nl/v_bodc_vocab/search.asp?name=(L062)%20SeaVoX+Platform+Class+Categories&l=L062 L062 SeaVoX Platform Class Categories]
  * Probably resources at IODE/IOC
  * The work on an IOOS Non-Federal Asset Inventory in early-mid 2011 (previously led by Sam Walker) also used some relevant semi-controlled vocabularies; these should be examined.
  * [http://data.nodc.noaa.gov/geoportal/ New NODC Geoportal]. Potentially it may use relevant controlled vocabularies that could facilitate wider discovery across IOOS, NODC, etc?
  * [http://cdi.gleon.org/ GLEON-CDI] (lakes). A [http://gleon.org/gleon-bb/viewtopic.php?f=3&t=18#p58 GLEON CV Excel spreadsheet is mentioned and linked to in this 2010 forum thread]
  * [http://www.citeulike.org/user/emayorga/tag/ioos,informatics My CiteULike collection of peer-reviewed journal articles broadly related to this topic]



