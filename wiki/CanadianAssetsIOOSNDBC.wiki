#summary Notes on handling of Canadian and other international assets in IOOS, NDBC, etc.
#labels NANOOS,NDBC,SOS,IOOSCatalog

== Introduction: Canadian assets, RA's and IOOS ==

Several RA's (NERACOOS, GLOS, AOOS and NANOOS) have relationships and shared geographic interests with Canadian partners. Clarity on IOOS guidelines about Canadian assets in IOOS resources (such as the [http://www.ioos.gov/catalog/ IOOS Catalog]) would help us develop more consistent aggregation, naming, and rebroadcasting conventions, and help us as we collaborate with other Canadian partners.

Several of us had a good exchange about these issues recently (mid Oct 2011). This page is largely based on those discussions (cut and paste, reorganized, etc). A good illustration of these issues: My assumption until recently had been that everything available on the traditional NDBC system (ascii files) was also available on the NDBC SOS. This turned out not to be true for Environment Canada buoy data redistributed by NDBC; see below. As _Eric Bridger (IOOS Catalog)_ mentioned, "this is also an issue for NERACOOS.  We display Environment Canada buoys near the Gulf of Maine and get the hourly obs from the NDBC's ASCII files ... but do not re-serve them via any SOS."  That's exactly what we do in NANOOS for [http://nvs.nanoos.org NVS] (get Env. Canada buoy data from NDBC ASCII files); we then explicitly filter out (exclude) the Env Can assets from the new NANOOS SOS, just as we exclude federal assets. It definitely seems like bad behavior for an RA to re-rebroadcast on its SOS for IOOS the obs data it obtained from the NDBC aggregator.

== Observations leading to discussion about Canadian assets in NDBC and IOOS ==

I noticed that on the IOOS Catalog, Canadian assets available on NDBC (more specifically, Environment Canada buoys) are largely absent. I assume that means that they're not present on the SOS service. Is this a deliberate policy decision? If so, is it applied on the IOOS Catalog end, pre-emptively by NDBC on their SOS service, or is it an explicit request/constraint by Environment Canada? _Eric Bridger_ confirmed that he's not doing anything to filter out Environment Canada assets from the IOOS Catalog; he added that the SOS GetCapabilities response only lists 2 Environment Canada buoys. I've confirmed that a DescribeSensor request to the operational NDBC SOS returns an error for several Env Can buoys I tried, that are available from the traditional NDBC ASCII files. I didn't look thoroughly thru the SOS GetCap, but I could only find one Env Can buoy (46138) with a DescribeSensor response, which is also the only one listed as Environment Canada under the "Data Provider" dropdown in the IOOS Catalog. 

What I was trying to get at is whether the absence of Env Can buoy data on the NDBC SOS is due to an existing, explicit policy that prohibits such NDBC redistribution via SOS but not via its ASCII files (and then the 1-2 Env Can assets that made it through are stragglers).

== NDBC SOS service, IOOS Catalog, and Canadian assets ==

_Mike Garcia (NDBC SOS)_ clarified for us what's going on: "Many, many moons ago, when NDBC first began adding data from international partners to its web site, some of these partners wished to be the sole source for their own historical data.  An agreement was reached to display no more than 24 hours of their data on the NDBC web site.  By default, this rule was then applied to any new international partner. When the SOS was implemented, all international partners were excluded based on this policy.  The two stations mentioned are special cases.  44172 is listed as a SCRIPPS wave rider buoy which happens to be in Canadian waters.  46138 is listed as a Canadian wave rider buoy whose data are provided to NDBC by SCRIPPS.  Whether 46138 belongs in the NDBC SOS is open to interpretation at this point in time."